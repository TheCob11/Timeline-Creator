<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Timeline Creator</title>
	<link href="style.css" rel="stylesheet" type="text/css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/print-js/1.6.0/print.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js">
	</script>
<!-- 	<script src="https://accounts.google.com/gsi/client" async defer></script>
 --> 
</head>

<body>
	<div id="popup">
		<section id="options">
			<h2>Edit Timeline</h2>
			<form id="optionsForm">
				<label for="firstYear">Starting Year(this will change the interval between years):<input name="firstYear" type="number"/></label><br>
      <label for="lastYear">Ending Year(this will change the interval between years):<input name="lastYear" type="number"/></label><br>
      <!-- <label for="marksNum">Number of Year Marks(this may change the interval):</label>
      <input name="marksNum" type="number"/><br> -->
      <label for="step">Interval Between Years(this will change the ending year):      <input name="step" type="number"/></label><br>
      <button type="button" class="doneButton" name="doneButton">Done</button>
    </form>
  </section>
  <section id="textSave">
    <h2>Save Timeline as JSON Text</h2>
    <div id="textSaveTextContainer" class="JSONIOContainer"><textarea readonly id="textSaveText" class="JSONIO">work in progress</textarea></div>
    <button id="copySaveTextButton" onclick="copySaveText()">Copy to Clipboard</button>
    <button id="downloadSaveTextButton" onclick="downloadSaveText()">Download</button>
    <button class="doneButton" onclick="closeOptions()">Done</button>
  </section>
  <section id="textLoad">
    <h2>Load Timeline from JSON</h2>
    <div id="textLoadTextContainer" class="JSONIOContainer"><textarea id="textLoadText" class="JSONIO">Input the text here, or select one of the options below</textarea></div>
    <input type="file" id="uploadLoadText" accept=".JSON" onchange="uploadLoadText()"></input>
    <button id="uploadLoadTextButton" onclick="document.getElementById('uploadLoadText').click()">Upload JSON File</button>
    <button id="pasteLoadTextButton" onclick="pasteLoadText()">Paste from Clipboard</button>
    <button id="loadTimelineButton" onclick="loadTimeline()">Load!</button>
    <button class="doneButton" onclick="cancelUpload()">Done</button>
  </section>
  </div>
	<div id="sidebar">
    <form id="periodEditForm">
      <h2>Edit Time Period</h2><br>
      <label for="title">Title:</label><br>
      <input name="title"/><br>
      <label for="firstYear">Starting Year:</label><br>
      <input name="firstYear" type="number"/><br>
      <label for="lastYear">Ending Year:</label><br>
      <input name="lastYear" type="number"/><br>
      <label for="description">Description:</label><br>
      <textarea form="periodEditForm" name="description"/></textarea><br><br>
      <div id="buttons">
      <button type="button" class="doneButton" name="doneButton">Done</button>
      <button type="button" class="deleteButton" name="deleteButton">Delete</button>
      </div>
    </form>
  </div>
  <div id="main">
  	<div id="header">
  		<h1 id="title">time</h1>
      <div id="saveMContainer">
        <p id="openSaveM">File</p>
        <div id="saveM">
          <button class="saveOption" id="exportButton" onclick="getImage()">Export Timeline to Image</button>
          <button class="saveOption" id="saveButton" onclick="popupTextSave()">Save timeline</button>
          <button class="saveOption" id="loadButton" onclick="popupTextLoad()">Load timeline</button>
        </div>
      </div>
      <button id="openOptions" onclick="openOptions()">Options</button>
      <button id="newPeriodButton"  onclick="periodEdit()">New Period</button>
<!--     <div id="g_id_onload"
         data-client_id="451267258644-itueok65100l9jvjsk4nafc4au0n3nal.apps.googleusercontent.com"
         data-callback="handleCredentialResponse">
    </div>
    <div class="g_id_signin" id="gglSignIn" data-type="standard"></div>
 -->	  	</div>
    <div id="timelineContainer">
      <canvas id="timeline"></canvas>
    </div>
  </div>
  <script src="script.js">
	</script>
</body>

</html>